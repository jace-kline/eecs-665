Optimization:
- need to be able to coalesce blocks
- should do a removeNops operation
